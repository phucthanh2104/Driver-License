<h2 class="title">120 Tình huống</h2>
<!-- <button class="btn btn-primary mb-3" data-bs-toggle="modal" data-bs-target="#addTestModal">
    <i class="fas fa-plus"></i> Thêm bộ đề
</button> -->

<!-- Table với DataTables -->
<div class="card">
    <div class="card-body">
        <table id="basic-datatable" class="table table-striped dt-responsive nowrap w-100">
            <thead>
                <tr>
                    <th><b>#</b></th>
                    <th><b>Tiêu đề</b></th>
                    <th><b>Mô tả</b></th>
                    <th><b>Hình ảnh</b></th>
                    <th><b>Thời lượng</b></th>
                    <th><b>Trạng thái</b></th>
                    <th><b>Thao tác</b></th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let s of situations">
                    <td>{{s.id}}</td>
                    <td ><span class="position-label green1">{{s.title}}</span></td>
                    <td>
                         <span *ngIf="s.description.length > 50">
                        {{ s.description.slice(0, 50) }}...
                    </span>
                    <span *ngIf="s.description.length <= 50">
                        {{ s.description }}
                    </span></td>
                    <td><img style="width: 180px; height: 100px;" src="{{s.image}}" alt="{{s.description}}"></td>
                    <td>{{s.videoLength}}   (s)</td>
                    <td><span class="badge bg-success">{{s.status == true ? "Hoạt động": "Ngưng"}}</span></td>
                    <td class="action-buttons">
                        <button class="btn btn-edit"><i class="fas fa-edit"></i></button>
                        <button class="btn btn-delete"><i class="fas fa-trash"></i></button>
                    </td>
                </tr>
               
            </tbody>
        </table>
    </div>
</div>

<!-- Modal thêm bộ đề -->
<div class="modal fade" id="addTestModal" tabindex="-1" aria-labelledby="addTestModalLabel" aria-hidden="true">
    <div class="modal-dialog" style="max-width: 80%;">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="addTestModalLabel">Thêm bộ đề mới</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="mb-3">
                        <label for="testTitle" class="form-label">Tiêu đề</label>
                        <input type="text" class="form-control" id="testTitle" [(ngModel)]="testTitle" name="testTitle"
                            required>
                    </div>
                    <div class="mb-3">
                        <label for="testDescription" class="form-label">Mô tả</label>
                        <textarea class="form-control" id="testDescription" [(ngModel)]="testDescription"
                            name="testDescription" rows="3"></textarea>
                    </div>
                    <div class="mb-3">
                        <label for="testTime" class="form-label">Thời gian (giây)</label>
                        <input type="number" class="form-control" id="testTime" [(ngModel)]="testTime" name="testTime"
                            required>
                    </div>
                    <div class="mb-3">
                        <label for="testType" class="form-label">Loại</label>
                        <select class="form-select" id="testType" [(ngModel)]="testType" name="testType" required>
                            <option value="">Chọn loại</option>
                            <option value="A">Loại A</option>
                            <option value="B">Loại B</option>
                            <option value="C">Loại C</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
                <button type="button" class="btn btn-primary" (click)="saveTest()">Lưu</button>
            </div>
        </div>
    </div>
</div>