<div class="mt-3">
    <button type="button" class="btn btn-primary" (click)="goToQuestion()">Trở về câu hỏi</button>
</div>
<div class="container my-4">
    <h3>Thêm câu hỏi mới</h3>

    <form>
        <div class="mb-3">
            <label class="form-label">Nội dung câu hỏi</label>
            <textarea class="form-control" [(ngModel)]="questionContent" name="questionContent" rows="3"
                required></textarea>
        </div>

        <div class="mb-3">
            <label class="form-label">Tải lên hình ảnh</label>
            <input type="file" class="form-control" (change)="onImageUpload($event)" accept="image/*" />
        </div>

        <div class="mb-3" *ngIf="imageUrl">
            <label class="form-label">Xem trước ảnh</label><br />
            <img [src]="imageUrl" alt="Preview" class="img-fluid" style="width: 400px; height: 350px;" />
        </div>

        <div class="mb-3">
            <label class="form-label">Giải thích</label>
            <textarea class="form-control" [(ngModel)]="explain" name="explain" rows="2"></textarea>
        </div>

        <div class="form-check mb-3">
            <input class="form-check-input" type="checkbox" [(ngModel)]="failed" name="isCritical" />
            <label class="form-check-label">Câu điểm liệt</label>
        </div>

        <div class="mb-3">
            <button type="button" class="btn btn-secondary" (click)="addAnswerField()">Thêm câu trả lời</button>
        </div>

        <div *ngFor="let answer of answers; let i = index" class="input-group mb-2">
            <div class="input-group-text">
                <input type="checkbox" [(ngModel)]="answer.isCorrect" [name]="'correct' + i" />
            </div>
            <input type="text" class="form-control" [(ngModel)]="answer.text" [name]="'answerText' + i"
                placeholder="Đáp án" />
            <button type="button" class="btn btn-danger" (click)="removeAnswerField(i)">
                <i class="fas fa-trash"></i>
            </button>
        </div>

        <div class="mt-3">
            <button type="button" class="btn btn-primary" (click)="saveQuestion()">Lưu</button>
        </div>
    </form>
</div>
  